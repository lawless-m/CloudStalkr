[
  {aircraft_alert, [
    %% Polling interval in seconds (how often to check for aircraft)
    {polling_interval_seconds, 30},

    %% Active hours (only alert during these hours)
    %% Format: {{StartHour, StartMin}, {EndHour, EndMin}}
    {active_hours, {{7, 0}, {22, 0}}},

    %% Active days (only alert on these days)
    %% Use 'all' for every day, or list specific days
    {active_days, all},  % or [monday, tuesday, wednesday, thursday, friday]

    %% ntfy.sh configuration
    {ntfy_topic, "grimsby_aircraft_alerts"},
    {ntfy_server, "https://ntfy.sh"},  % or your self-hosted server

    %% Duplicate alert suppression (don't re-alert same aircraft within this window)
    {duplicate_alert_window_minutes, 15},

    %% Weather integration (future enhancement)
    {weather_check_enabled, false},
    {min_visibility_km, 5.0},
    {max_cloud_cover_percent, 90},

    %% Regions of interest
    {regions, [
      #{
        id => home,
        name => "Grimsby Home",
        lat => 53.567,
        lon => -0.081,
        radius_miles => 5.0,
        active => true
      },
      #{
        id => holiday_spain,
        name => "Malaga Holiday",
        lat => 36.721,
        lon => -4.421,
        radius_miles => 3.0,
        active => false  % Set to true when on holiday
      }
    ]},

    %% Alert rules (define what triggers an alert)
    {alert_rules, [
      %% High priority: Chinooks and military helicopters close by
      #{
        region_id => home,
        aircraft_types => ["H47", "CH47", "A1"],  % Chinooks and military helicopters
        min_altitude_ft => 0,
        max_altitude_ft => 5000,
        max_distance_miles => 2.0,
        priority => 5  % Highest priority
      },

      %% Medium priority: Any military aircraft very close and low
      #{
        region_id => home,
        aircraft_types => any,  % Any military aircraft
        min_altitude_ft => 0,
        max_altitude_ft => 3000,
        max_distance_miles => 1.0,
        priority => 4
      },

      %% Lower priority: Military aircraft within 5 miles
      #{
        region_id => home,
        aircraft_types => any,
        min_altitude_ft => 0,
        max_altitude_ft => 10000,
        max_distance_miles => 5.0,
        priority => 3
      }
    ]}
  ]}
].
